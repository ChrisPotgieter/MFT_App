<div>
    <div jarvis-widget id="spe-event-feed-widget" data-widget-togglebutton="false" data-widget-editbutton="false"
         data-widget-fullscreenbutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false">
        <header>
            <span class="widget-icon"> <i class="glyphicon glyphicon-stats txt-color-darken"></i> </span>

            <h2>Event Feed </h2>
            <ul class="nav nav-tabs pull-right in" id="myTab">
                <li>
                    <a data-toggle="tab" href="#metrics" ng-click="vm.functions.switchTab('metrics');"><i
                            class="fa fa-clock-o"></i> <span class="hidden-mobile hidden-tablet">Event Metrics</span></a>
                </li>
                <li class="active">
                    <a data-toggle="tab" href="#groups" ng-click="vm.functions.switchTab('groups');"><i
                            class="fa fa-tachometer"></i> <span
                            class="hidden-mobile hidden-tablet">Groupings</span></a>
                </li>
            </ul>

        </header>

        <!-- start widget body -->
        <div class="no-padding">
            <div class="widget-body">
                <div id="myTabContent" class="tab-content">
                    <!-- start key metrics -->
                    <div class="tab-pane fade in padding-10 no-padding-bottom" id="metrics">
                        <div class="row no-space">
                            <!-- flot chart -->
                            <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">

                                <div id="updating-chart" class="chart-large txt-color-blue" mqa-flot-line
                                     dataset="vm.model.eventFeed.chart.series"
                                     options="vm.model.eventFeed.chart.options"
                                     update-flag="vm.model.updateType" max-points="10"
                                     refresh-flag="vm.model.eventFeed.chart.update"></div>
                            </div>
                            <!-- metrics -->
                            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 show-stats">

                                <div class="row">
                                    <div class="col-xs-6 col-sm-6 col-md-12 col-lg-12"><span class="text">Total <span
                                            class="pull-right">{{vm.model.eventFeed.metrics.total.value}}</span> </span>
                                        <div class="progress">
                                            <div class="progress-bar bg-color-blueDark" style="width:100%"/>
                                        </div>
                                    </div>

                                    <div class="col-xs-6 col-sm-6 col-md-12 col-lg-12"><span class="text">Outbound <span
                                            class="pull-right">{{vm.model.eventFeed.metrics.outbound.value}}</span> </span>
                                        <div class="progress">
                                            <div class="progress-bar"
                                                 ng-style="{'width': vm.model.eventFeed.metrics.outbound.progressPerc, 'background-color': vm.model.theme.colorNames.de_envelope}"></div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-6 col-md-12 col-lg-12"><span class="text"> Inbound <span
                                            class="pull-right">{{vm.model.eventFeed.metrics.inbound.value}}</span> </span>

                                        <div class="progress">
                                            <div class="progress-bar"
                                                 ng-style="{'width': vm.model.eventFeed.metrics.inbound.progressPerc, 'background-color': vm.model.theme.colorNames.envelope}"></div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-6 col-md-12 col-lg-12"><span class="text"> Errors<span
                                            class="pull-right">{{vm.model.eventFeed.metrics.errors.value}}</span> </span>

                                        <div class="progress">
                                            <div class="progress-bar"
                                                 ng-style="{'width': vm.model.eventFeed.metrics.errors.progressPerc, 'background-color': vm.model.theme.colorNames.error}"></div>
                                        </div>
                                    </div>
                                    <div class="col-xs-6 col-sm-6 col-md-12 col-lg-12"><span
                                            class="text"> Successful <span
                                            class="pull-right">{{vm.model.eventFeed.metrics.success.value}}</span> </span>

                                        <div class="progress">
                                            <div class="progress-bar"
                                                 ng-style="{'width': vm.model.eventFeed.metrics.success.progressPerc, 'background-color': vm.model.theme.colorNames.ack}"></div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <!-- dials -->
                        <div class="show-stat-microcharts" data-sparkline-container>
                            <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3" ng-repeat="dial in vm.model.eventFeed.dials">
                                <span ng-style="dial.style"><mqa-easy-pie data="dial" data-pie-size="50"/></span>
                                <span class="easy-pie-title"> {{dial.title}} <i
                                        ng-class="dial.change.style"></i> </span>

                                <ul class="smaller-stat pull-right">
                                    <li>
                                        <span ng-class="dial.change.labelStyle"><i ng-class="dial.changeIcon"></i> {{dial.change.value}}</span>
                                    </li>
                                    <li>
                                        <span ng-class="dial.change.labelStyle"><i ng-class="dial.changeIcon"></i> {{dial.change.perc}}</span>
                                    </li>

                                </ul>
                                <span ng-style="dial.style"><div class="sparkline pull-right" mqa-sparkline
                                                                  data="dial.chartData"
                                                                  config="dial.chartConfig"/></span>
                            </div>
                        </div>
                    </div>
                    <!-- end key metrics -->

                    <!-- start groupings -->
                    <div class="tab-pane active in fade" id="groups">
                        <div class="col-sm-12 padding-10">
                            <div class="col-sm-4 col-lg-4 col-md-4 padding-left-gutter padding-10" ng-repeat="group in vm.model.currentData.groups.data">
                                <div data-smart-include="app/modules/common/partials/common-donut-content.tpl.html"/>
                            </div>
                        </div>
                    </div>
                    <!-- end groupings -->
                </div>
            </div>
        </div>
        <!-- end widget body -->
    </div>
</div>